<!-- <h3>Welcome to the real-time HTML editor!</h3>
<p>Type HTML in the textarea above, and it will magically appear in the fra<!DOCTYPE html -->
<html>
<head>
  <title>AI MakeUp</title>
  <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
  <link href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href= "{{ url_for('static',filename='app.css') }}">
  <link rel="icon" href="https://images.squarespace-cdn.com/content/v1/5c552c679b8fe802459eb3f7/1553883379854-511PFZG3HQ8CAO3YQXAM/ke17ZwdGBToddI8pDm48kLyCCerEZijcD8Wbcg63XnxZw-zPPgdn4jUwVcJE1ZvWEtT5uBSRWt4vQZAgTJucoTqqXjS3CfNDSuuf31e0tVFR1GrYiiHKNxsQhep12TIpsrmuWvPMTgLQtvdiW-n5GN1lH3P2bFZvTItROhWrBJ0/shiba.png">
<script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
  
</head>

<body>

    <div id="maintable">
    
    <h2>ğŸ’„ğŸ’» Let AI do your M A K E U P ğŸ’»ğŸ’„</h2>
<!--     <iframe src="https://ghbtns.com/github-btn.html?user=kimtuthap97&repo=Facial-Beauty-Prediction&type=star&count=true" frameborder="0" scrolling="0" width="170px" height="20px"></iframe> -->
    <hr>

    <div class="row">
            <div class="col-sm-5" id = "image-placeholder">
            <img src="{{ displayedimage|safe }}">
            </div>
            
            <div class="col-sm-7">
            
            <form action = "/uploaded" method = "POST"
            enctype = "multipart/form-data">
            <input type = "file" name = "file" class="form-control-file"/>
            <input type = "submit" class="btn btn-info" value="Upload Image"/>
            </form>
                        
            <br>
            
            <div id = "userinfo">
                                    
            <p>Xin chÃ o &#127804;&#127804;&#127804;,</p>
            <p>ÄÃ¢y lÃ  báº£n <b>DEMO</b> ChÆ°Æ¡ng trÃ¬nh Trang Ä‘iá»ƒm sá»­ dá»¥ng Há»c sÃ¢u.</p>
            <p>Xin má»i báº¡n <b>Upload</b> má»™t áº£nh selfie cá»§a mÃ¬nh lÃªn Ä‘á»ƒ Há»‡ thá»‘ng thá»±c hiá»‡n Trang Ä‘iá»ƒm cho báº¡n ğŸ¤³ğŸ“±ğŸ˜Š.</p>
            <p>Xin <b>CHÃš Ã</b> chá»n hÃ¬nh áº£nh theo cÃ¡c tiÃªu chÃ­ nhÆ° sau:</p>
            <ul>
                <li>CÃ³ Ã­t nháº¥t <b>1 khuÃ´n máº·t</b>. Náº¿u trong hÃ¬nh cÃ³ nhiá»u hÆ¡n má»™t khuÃ´n máº·t, mÃ¡y tÃ­nh sáº½ chá»n ngáº«u nhiÃªn má»™t khuÃ´n máº·t Ä‘á»ƒ thá»±c hiá»‡n trang Ä‘iá»ƒm</li>
                <li>KhuÃ´n máº·t nÃªn <b>rÃµ rÃ ng, khÃ´ng bá»‹ che khuáº¥t</b> hay cÃ³ váº­t cáº£n. VD: Ä‘eo kÃ­nh rÃ¢m ğŸ˜, kháº©u trang ğŸ˜·, etc.</li>
                <li>Biá»ƒu cáº£m khuÃ´n máº·t nÃªn <b>trung hÃ²a ğŸ˜¡ğŸ˜­ğŸ˜«.</b></li>
            </ul>
            <p>MÃ´ hÃ¬nh váº«n Ä‘ang trong quÃ¡ trÃ¬nh thá»­ nghiá»‡m, vÃ¬ váº­y cÃ³ thá»ƒ chÆ°a Ä‘Æ°á»£c tá»‘t ğŸ‘. Pls don't take this serious ğŸ‘</p>
            <i class="fab fa-linkedin-in"></i>
            </div>
                
            </div>
            
    </div>
    
    <br>
    <center>
    <h3>Acknowledgements & Source Code</h3>
    <center><iframe src="https://ghbtns.com/github-btn.html?user=kimtuthap97&repo=Facial-Makeup-Web&type=star&count=true" frameborder="0" scrolling="0" width="170px" height="20px"></iframe>
    
    <br>
    
    <p>MÃ´ hÃ¬nh Ä‘Æ°á»£c láº¥y cáº£m há»©ng tá»« bÃ i bÃ¡o gá»‘c <a target="_blank" rel="noopener noreferrer"  href="https://dl.acm.org/doi/10.1145/3240508.3240618">BeautyGAN</a>. Website Ä‘Æ°á»£c viáº¿t dá»±a trÃªn <a target="_blank" rel="noopener noreferrer" href="https://github.com/Kimtuthap97/Facial-Beauty-Prediction">Facial Beauty Prediction</a>, host server sá»­ dá»¥ng <a target="_blank" rel="noopener noreferrer" href="https://www.pythonanywhere.com/">PythonEverywhere</a>. Do <b>giá»›i háº¡n vá» CHI PHÃ</b>, mÃ¬nh chá»n gÃ³i website chá»‰ há»— trá»£ CPU 3GB RAM vÃ  5GB disk, nÃ´m na tÆ°Æ¡ng Ä‘Æ°Æ¡ng xá»­ lÃ½ nhanh Ä‘Æ°á»£c <b>500 áº£nh</b>/ ngÃ y. Mong má»i ngÆ°á»i thÃ´ng cáº£m áº¡.</p>

    <p>Source code Ä‘Æ°á»£c viáº¿t báº±ng Pytorch, cÃ³ thá»ƒ tÃ¬m tháº¥y táº¡i <a target="_blank" rel="noopener noreferrer" href="https://github.com/Kimtuthap97/BeautyGAN_pytorch">github cá»§a mÃ¬nh</a>. Dá»¯ liá»‡u huáº¥n luyá»‡n Ä‘Æ°á»£c láº¥y táº¡i Project Page cá»§a bÃ i bÃ¡o.</p>
    <p><img src="/static/shibe_ok.gif" alt="animated" loop=infinite/></p>
    <p>Káº¿t ná»‘i vá»›i mÃ¬nh táº¡i <a target="_blank" rel="noopener noreferrer" href="https://www.facebook.com/kimtuthap97">Facebook </a><a target="_blank" rel="noopener noreferrer" href="https://www.linkedin.com/in/kimtuthap97/">LinkedIn</a></p>
    
    </center>
    </div>

</body>

<script type="text/javascript">
$('form').submit(function(e){
    e.preventDefault();
    
    let imgPlaceholder = document.getElementById('image-placeholder')
    
    let userinfo = document.getElementById('userinfo')
        userinfo.innerHTML = '<loadingtext><img src="/static/shibe_flo.gif" width="200px" height="200px" class ="center-block"><p><i>Táº£i áº£nh lÃªn server... &#9760;</i></p></loadingtext>'
        
    $.ajax({
        url: $(this).attr('action'),
        type: 'POST',
        data: new FormData($('form')[0]),
        cache: false,
        contentType: false,
        processData: false

    }).done(function(res){
                
        if (res['success'] == true) {
                    
            face_location = res['face_image']
            original_image = res['original_image']
                    
            imgPlaceholder.innerHTML = '<img src="/static/shiba_makeup.jpg" width="350px" height="350px">'
                    
            userinfo.innerHTML = '<loadingtext><img src="/static/shibe_flo.gif" width="200px" height="200px" class ="center-block"><p><i>Báº¯t Ä‘áº§u phÃ¢n tÃ­ch áº£nh... &#9749;</i></p><p><b>' + res['msg'] + '</b></p></loadingtext>'
            
            $.ajax({
                url: "/analyze",
                type: 'POST',
                data: original_image,
                cache: false,
                contentType: false,
                processData: false 
            }).done(function(res){
                imgPlaceholder.innerHTML = '<img src="' + face_location + '">'
                userinfo.innerHTML = '<loadingtext><p>' + res['msg'] + '</p><img src="/static/pat_shibe.gif" width="100px" height="100px" class ="center-block"><p>Báº¡n cáº£m tháº¥y tháº¿ nÃ o?</p><p><i>Chia sáº» cáº£m nghÄ© vá»›i mÃ¬nh nha! <a target="_blank" rel="noopener noreferrer" href="http://m.me/kimtuthap97">ğŸ’ŒğŸ’ŒğŸ’Œ</a></i></p></loadingtext>'
                    })
                
            } else {
                    
                userinfo.innerHTML = '<loadingtext><img src="/static/angry.gif" width="150px" height="150px" class ="center-block"><p>' + res['msg'] + '</p></loadingtext>'
            
            }
        
    })
})
</script>
</html>

    